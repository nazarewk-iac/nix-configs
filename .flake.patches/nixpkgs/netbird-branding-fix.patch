From 4c2b315075218013f8dabe8523956dc0d6d94ce2 Mon Sep 17 00:00:00 2001
From: Rohan Verma <hello@rohanverma.net>
Date: Sun, 10 Aug 2025 19:49:14 +0530
Subject: [PATCH] nixos/netbird: fix desktop file name pattern

The desktop file substitution was looking for 'Name=NetBird' but the
actual desktop file contains 'Name=Netbird' (with lowercase 'b').

Fixes #432454
---
 nixos/modules/services/networking/netbird.nix | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/nixos/modules/services/networking/netbird.nix b/nixos/modules/services/networking/netbird.nix
index 84a59b3bf6242ee010bb35459d177ce70443608b..9d47901baffb7ffeaab4cec99dc52c00518625ab 100644
--- a/nixos/modules/services/networking/netbird.nix
+++ b/nixos/modules/services/networking/netbird.nix
@@ -310,7 +310,7 @@ in
                         mkdir -p "$out/share/applications"
                         substitute ${cfg.ui.package}/share/applications/netbird.desktop \
                             "$out/share/applications/${mkBin "netbird"}.desktop" \
-                          --replace-fail 'Name=NetBird' "Name=NetBird @ ${client.service.name}" \
+                          --replace-fail 'Name=Netbird' "Name=NetBird @ ${client.service.name}" \
                           --replace-fail '${lib.getExe cfg.ui.package}' "$out/bin/${mkBin "netbird-ui"}"
                       '')
                     ];
