From c0954a8d2f38776b5766ffba1eadd40e876d86a4 Mon Sep 17 00:00:00 2001
From: Gaetan Lepage <gaetan@glepage.com>
Date: Tue, 14 Jan 2025 09:07:34 +0100
Subject: [PATCH] python312Packages.levenshtein: 0.26.0 -> 0.27.0

Diff:
https://github.com/maxbachmann/Levenshtein/compare/refs/tags/v0.26.0...v0.27.0

Changelog:
https://github.com/maxbachmann/Levenshtein/blob/refs/tags/v0.27.0/HISTORY.md
---
 .../python-modules/levenshtein/default.nix    | 23 ++++++++-----------
 1 file changed, 10 insertions(+), 13 deletions(-)

diff --git a/pkgs/development/python-modules/levenshtein/default.nix b/pkgs/development/python-modules/levenshtein/default.nix
index 367c6f0eb1ec3817c360aecce2d027aa1a1cf950..9e8ea3dec57cbd75124f134c93252c2b3c190740 100644
--- a/pkgs/development/python-modules/levenshtein/default.nix
+++ b/pkgs/development/python-modules/levenshtein/default.nix
@@ -1,29 +1,26 @@
 {
   lib,
   buildPythonPackage,
+  fetchFromGitHub,
   cmake,
   cython,
-  fetchFromGitHub,
   ninja,
-  pytestCheckHook,
-  pythonOlder,
-  rapidfuzz,
-  rapidfuzz-cpp,
   scikit-build-core,
+  rapidfuzz-cpp,
+  rapidfuzz,
+  pytestCheckHook,
 }:
 
 buildPythonPackage rec {
   pname = "levenshtein";
-  version = "0.26.0";
+  version = "0.27.0";
   pyproject = true;
 
-  disabled = pythonOlder "3.9";
-
   src = fetchFromGitHub {
     owner = "maxbachmann";
     repo = "Levenshtein";
     tag = "v${version}";
-    hash = "sha256-uLOOAmJ8Y0z+tuIIOSnI8qZoZ+IA2+tNBX1lDCvc8+A=";
+    hash = "sha256-kiYu46qv8sBBcPoCo3PN1q9F0EJ1s5hAMKavPaztM4s=";
     fetchSubmodules = true; # # for vendored `rapidfuzz-cpp`
   };
 
@@ -44,11 +41,11 @@ buildPythonPackage rec {
 
   pythonImportsCheck = [ "Levenshtein" ];
 
-  meta = with lib; {
+  meta = {
     description = "Functions for fast computation of Levenshtein distance and string similarity";
     homepage = "https://github.com/maxbachmann/Levenshtein";
-    changelog = "https://github.com/maxbachmann/Levenshtein/blob/${src.rev}/HISTORY.md";
-    license = licenses.gpl2Plus;
-    maintainers = with maintainers; [ fab ];
+    changelog = "https://github.com/maxbachmann/Levenshtein/blob/v${version}/HISTORY.md";
+    license = lib.licenses.gpl2Plus;
+    maintainers = with lib.maintainers; [ fab ];
   };
 }
